<div class="d-flex align-items-center col-xxxl-6 mt-3 mb-3 p-0">
	<button
		type="button"
		class="btn btn-secondary"
		aria-hidden="true"
		[disabled]="loading"
		(click)="openCreteWidgetModal()">
	
		Create Widget
		<i class="fa fa-plus" aria-hidden="true"></i>
	</button>

	<button
		type="submit"
		class="btn btn-default border-none pt-1 pb-1 ml-2"
		title="Refresh"
		[disabled]="loading"
		(click)="initWidgets()">

		<i
			e2e="refresh"
			class="fa fa-refresh"
			[class.fa-spin]="loading">
		</i>
	</button>
</div>

<div class="row align-self-stretch">
	<div
		*ngFor="let widget of widgets"
		class="col-xxxl-6 mb-2">

		<div
			e2e="aws-cloud-watch-widget"
			class="card h-100">

			<div class="card-header bg-transparent d-flex align-items-center justify-content-between">
				<cloud-watch-widget-form
					[title]="'Custom AWS CloudWatch Widget'"
					[loading]="loading || widget.loading"
					[id]="widget.uuid"
					[linkToAWSCloudWatchMetric]="widget.href"
					(changed)="setDate($event, widget)">
				</cloud-watch-widget-form>

				<div class="btn-group">
					<button
						type="button"
						class="btn btn-secondary"
						aria-hidden="true"
						[disabled]="loading || widget.loading"
						(click)="opeEditWidgetModal(widget)">
					
						<i class="fa fa-pencil"></i>
					</button>

					<button
						type="button"
						class="btn btn-danger"
						aria-hidden="true"
						[disabled]="loading || widget.loading"
						(click)="deleteWidget(widget)">
					
						<i class="fa fa-trash"></i>
					</button>
				</div>
			</div>
			<div class="card-body d-flex align-items-center justify-content-center p-2 text-center">
				<div *ngIf="widget.loading">
					<div
						e2e="loading-shade"
						class="bhn-loading-shade">
						<i
							e2e="loader"
							class="fa fa-pulse fa-spinner fa-2x"></i>
					</div>
				</div>
				<p
					*ngIf="widget.err"
					class="text-danger">

					{{widget.err}}
				</p>
				<img
					*ngIf="!widget.err"
					class="js-widget-image mw-100"
					[src]="widget.image" />
			</div>
		</div>
	</div>
</div>
